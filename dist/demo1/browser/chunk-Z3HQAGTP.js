import{a as V}from"./chunk-ISKPDBW7.js";import{a as G,b as w}from"./chunk-HK54DAHC.js";import{a as T}from"./chunk-QYN7FTKG.js";import{C as L,d as A,f as l,g as q,h as N,m as k,q as D,r as F,s as O,t as M,u as B,v as I,z as R}from"./chunk-FHPH46MZ.js";import{g as C,k as y}from"./chunk-ZBGVERMW.js";import"./chunk-LVHII46P.js";import{m as x,n as _,y as S}from"./chunk-RD6NJ7NY.js";import{Ac as h,Bb as d,Gb as a,Sb as t,Tb as e,Ub as E,dc as c,ec as f,kb as m,lb as p,qc as i,ra as v,sc as s,yc as g,zc as b}from"./chunk-3TFDHLSU.js";import"./chunk-GAL4ENT6.js";var j=()=>["/assessment/loadassessment"],J=r=>({pid:r});function H(r,n){r&1&&(t(0,"div")(1,"p",38),i(2,"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E15\u0E23\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27\u0E1B\u0E23\u0E30\u0E0A\u0E32\u0E0A\u0E19 \u0E44\u0E21\u0E48\u0E04\u0E23\u0E1A 13 \u0E2B\u0E25\u0E31\u0E01 "),e()())}function K(r,n){r&1&&(t(0,"div")(1,"p",38),i(2,"\u0E01\u0E23\u0E2D\u0E01\u0E40\u0E25\u0E02\u0E40\u0E01\u0E34\u0E19 13 \u0E2B\u0E25\u0E31\u0E01 "),e()())}function Q(r,n){if(r&1&&(t(0,"div")(1,"p",38),i(2),e()()),r&2){let o=f();m(2),s("",o.errorMessage," ")}}function U(r,n){if(r&1&&(t(0,"option",39),i(1),e()),r&2){let o=n.$implicit;a("ngValue",o),m(),s("",o.name_th," ")}}function W(r,n){if(r&1&&(t(0,"option",39),i(1),e()),r&2){let o=n.$implicit;a("ngValue",o),m(),s("",o.name_th," ")}}function X(r,n){if(r&1&&(t(0,"option",39),i(1),e()),r&2){let o=n.$implicit;a("ngValue",o),m(),s("",o.name_th," ")}}function Y(r,n){if(r&1&&E(0,"map-marker",40),r&2){let o=n.$implicit,u=f();a("position",o)("options",u.markerOptions)}}var P=class r{constructor(n,o){this.fb=n;this.apidataService=o;this.form=this.fb.group({cid:["",[l.required,l.minLength(13),l.maxLength(13)]],prefix:["",l.required],fname:["",l.required],lname:["",l.required],phone:[""],banumber:["",l.required],moo:["",l.required],province:["",l.required],district:["",l.required],subdistrict:["",l.required],latitude:["",l.required],longitude:["",l.required]})}center={lat:15.5082371,lng:103.0542436};zoom=15;markerOptions={draggable:!1};markerPositions=[];path="registerpatient";addMarker(n){if(n.latLng){let o=n.latLng.toJSON();this.markerPositions=[o],this.form.patchValue({latitude:o.lat,longitude:o.lng})}}form;provinces=V;districts=[];subdistricts=[];errorMessage="";pid="";ngOnInit(){this.form.get("province")?.valueChanges.subscribe(n=>{this.districts=n?n.amphure:[],this.subdistricts=[],this.form.get("district")?.reset(),this.form.get("subdistrict")?.reset()}),this.form.get("district")?.valueChanges.subscribe(n=>{this.subdistricts=n?n.tambon:[],this.form.get("subdistrict")?.reset()})}onSubmit(){this.form.controls.cid.hasError("required")&&(this.errorMessage="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),this.form,this.form.value.province?.name_th,this.form.value.district?.name_th,this.form.value.subdistrict?.name_th,console.log(this.form.value),this.apidataService.sendData(this.path,this.form.value).subscribe(n=>{n&&(console.log(n.data),this.pid=n.data[0]._id)},n=>{console.error("\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14:",n)})}static \u0275fac=function(o){return new(o||r)(p(R),p(T))};static \u0275cmp=v({type:r,selectors:[["app-register"]],standalone:!0,features:[g],decls:112,vars:18,consts:[[1,"container"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-12","mx-auto"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"font-size","25px"],[3,"formGroup"],[1,"col-sm-3"],[1,"mb-3"],[1,"form-label"],["type","text","name","cid","formControlName","cid","required","",1,"form-control"],[4,"ngIf"],[1,"col-sm-1"],["name","prefix","formControlName","prefix","required","",1,"form-select","form-select-sm","mb-3"],["selected",""],["value","1"],["value","2"],["value","3"],["type","text","name","fname","formControlName","fname","required","",1,"form-control"],[1,"col-sm-4"],["type","text","name","lname","formControlName","lname","required","",1,"form-control"],["type","text","name","phone","formControlName","phone",1,"form-control"],[1,"col-sm-2"],["type","text","name","banumber","formControlName","banumber","required","",1,"form-control"],["type","text","name","moo","formControlName","moo","required","",1,"form-control"],["formControlName","province","required","",1,"form-select","form-select-sm","mb-3"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","district","required","",1,"form-select","form-select-sm","mb-3",3,"disabled"],["formControlName","subdistrict","required","",1,"form-select","form-select-sm","mb-3",3,"disabled"],["for",""],["height","400px","width","750px",3,"mapClick","center","zoom"],[3,"position","options",4,"ngFor","ngForOf"],["type","text","name","latitude","formControlName","latitude","required","",1,"form-control"],["type","text","name","longitude","formControlName","longitude","required","",1,"form-control"],["type","button",1,"btn","btn-primary","submit",3,"click","disabled"],["type","button",1,"btn","btn-success",3,"routerLink","queryParams"],[2,"color","red"],[3,"ngValue"],[3,"position","options"]],template:function(o,u){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h6",7),i(8,"\u0E25\u0E07\u0E17\u0E30\u0E40\u0E1A\u0E35\u0E22\u0E19\u0E1B\u0E23\u0E30\u0E0A\u0E32\u0E0A\u0E19\u0E01\u0E25\u0E38\u0E48\u0E21\u0E40\u0E2A\u0E35\u0E48\u0E22\u0E07"),e(),t(9,"form",8)(10,"div",3)(11,"div",9)(12,"div",10)(13,"label",11),i(14,"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E15\u0E23\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27\u0E1B\u0E23\u0E30\u0E0A\u0E32\u0E0A\u0E19"),e(),E(15,"input",12),e(),d(16,H,3,0,"div",13)(17,K,3,0,"div",13)(18,Q,3,1,"div",13),e(),t(19,"div",14)(20,"div",10)(21,"label",11),i(22,"\u0E04\u0E33\u0E19\u0E33\u0E2B\u0E19\u0E49\u0E32"),e(),t(23,"select",15)(24,"option",16),i(25,"\u0E40\u0E25\u0E37\u0E2D\u0E01"),e(),t(26,"option",17),i(27,"\u0E19\u0E32\u0E22"),e(),t(28,"option",18),i(29,"\u0E19\u0E32\u0E07"),e(),t(30,"option",19),i(31,"\u0E19.\u0E2A."),e(),t(32,"option",19),i(33,"\u0E14.\u0E0A."),e(),t(34,"option",19),i(35,"\u0E14.\u0E0D."),e()()()(),t(36,"div",9)(37,"div",10)(38,"label",11),i(39,"\u0E0A\u0E37\u0E48\u0E2D"),e(),E(40,"input",20),e()(),t(41,"div",21)(42,"div",10)(43,"label",11),i(44,"\u0E2A\u0E01\u0E38\u0E25"),e(),E(45,"input",22),e()()(),t(46,"div",3)(47,"div",21)(48,"div",10)(49,"label",11),i(50,"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23"),e(),E(51,"input",23),e()(),t(52,"div",24)(53,"div",10)(54,"label",11),i(55,"\u0E1A\u0E49\u0E32\u0E19\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48"),e(),E(56,"input",25),e()(),t(57,"div",24)(58,"div",10)(59,"label",11),i(60,"\u0E2B\u0E21\u0E39\u0E48"),e(),E(61,"input",26),e()()(),t(62,"div",3)(63,"div",24)(64,"div",10)(65,"label",11),i(66,"\u0E08\u0E31\u0E07\u0E2B\u0E27\u0E31\u0E14"),e(),t(67,"select",27)(68,"option",16),i(69,"\u0E40\u0E25\u0E37\u0E2D\u0E01"),e(),d(70,U,2,2,"option",28),e()()(),t(71,"div",24)(72,"div",10)(73,"label",11),i(74,"\u0E2D\u0E33\u0E40\u0E20\u0E2D"),e(),t(75,"select",29)(76,"option",16),i(77,"\u0E40\u0E25\u0E37\u0E2D\u0E01"),e(),d(78,W,2,2,"option",28),e()()(),t(79,"div",24)(80,"div",10)(81,"label",11),i(82,"\u0E15\u0E33\u0E1A\u0E25"),e(),t(83,"select",30)(84,"option",16),i(85,"\u0E40\u0E25\u0E37\u0E2D\u0E01"),e(),d(86,X,2,2,"option",28),e()()(),t(87,"div",10)(88,"label",31),i(89,"\u0E1B\u0E31\u0E01\u0E2B\u0E21\u0E38\u0E14\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48"),e(),t(90,"google-map",32),c("mapClick",function($){return u.addMarker($)}),d(91,Y,1,2,"map-marker",33),e()(),t(92,"div",3)(93,"div",24)(94,"div",10)(95,"label",11),i(96,"lat"),e(),E(97,"input",34),e()(),t(98,"div",24)(99,"div",10)(100,"label",11),i(101,"lng"),e(),E(102,"input",35),e()()()()(),t(103,"div",3)(104,"div",9)(105,"div",10)(106,"button",36),c("click",function(){return u.onSubmit()}),i(107,"Submit form"),e()()(),t(108,"div",9)(109,"div",10)(110,"button",37),i(111,"\u0E17\u0E33\u0E41\u0E1A\u0E1A\u0E1B\u0E23\u0E30\u0E40\u0E21\u0E34\u0E19"),e()()()()()()()()()()()),o&2&&(m(9),a("formGroup",u.form),m(7),a("ngIf",u.form.controls.cid.hasError("minlength")),m(),a("ngIf",u.form.controls.cid.hasError("maxlength")),m(),a("ngIf",u.form.controls.cid.hasError("required")),m(52),a("ngForOf",u.provinces),m(5),a("disabled",!u.districts.length),m(3),a("ngForOf",u.districts),m(5),a("disabled",!u.subdistricts.length),m(3),a("ngForOf",u.subdistricts),m(4),a("center",u.center)("zoom",u.zoom),m(),a("ngForOf",u.markerPositions),m(15),a("disabled",u.form.invalid),m(4),a("routerLink",b(15,j))("queryParams",h(16,J,u.pid)))},dependencies:[L,k,M,B,A,O,q,N,I,D,F,S,x,_,G,w,y,C]})};export{P as RegisterComponent};
